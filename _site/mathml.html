<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>371436</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="./transform-script.js"></script>
  </head>
  <body>
    <h4 title="GossJS">Преобразование в MathML</h4>
  </body>
  <script id="stylesheet" type="text/xsl">
    <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
			   <xsl:output method="xml" indent="yes"/>

			            <xsl:template match="/">
			             <math xmlns="http://www.w3.org/1998/Math/MathML">
			               <xsl:apply-templates />
			             </math>
			           </xsl:template>

				<xsl:template match="корень">
			      <msqrt>
			         <xsl:apply-templates select="*"/>
			      </msqrt>
			   </xsl:template>

			   <xsl:template match="строка">
			      <mrow>
			         <xsl:apply-templates select="*"/>
			      </mrow>
			   </xsl:template>

			   <xsl:template match="операнд">
			      <mi>
			         <xsl:value-of select="." />
			      </mi>
			   </xsl:template>

			   <xsl:template match="оператор">
			      <mo>
			         <xsl:value-of select="." />
			      </mo>
			   </xsl:template>

			   <xsl:template match="число">
			      <mn>
			         <xsl:value-of select="." />
			      </mn>
			   </xsl:template>

			   <xsl:template match="дробь">
			      <mfrac>
			         <xsl:apply-templates select="*"/>
			      </mfrac>
			   </xsl:template>

			   <xsl:template match="низверх">
			      <munderover>
			         <xsl:apply-templates select="*"/>
			      </munderover>
			   </xsl:template>

			   <xsl:template match="верх">
			      <msup>
			         <xsl:apply-templates select="*"/>
			      </msup>
			   </xsl:template>

			   <xsl:template match="низ">
			      <msub>
			         <xsl:apply-templates select="*"/>
			      </msub>
			   </xsl:template>

			</xsl:stylesheet>
  </script>

<script id="mathml_xml" type="text/xml">
  <строка>
  <операнд>σ</операнд>
  <оператор>=</оператор>
  <корень>
  <строка>
  <дробь>
  <строка>
  <число>1</число>
  </строка>
  <строка>
  <операнд>N</операнд>
  </строка>
  </дробь>
  <строка>
  <низверх>
  <строка>
  <оператор>∑</оператор>
  </строка>
  <строка>
  <операнд>i</операнд>
  <оператор>=</оператор>
  <число>1</число>
  </строка>
  <строка>
  <операнд>N</операнд>
  </строка>
  </низверх>
  <строка>
  <верх>
  <строка>
  <оператор >(</оператор>
  <низ>
  <строка>
  <операнд>x</операнд>
  </строка>
  <строка>
  <операнд>i</операнд>
  </строка>
  </низ>
  <оператор>−</оператор>
  <операнд>μ</операнд>
  <оператор >)</оператор>
  </строка>
  <строка>
  <число>2</число>
  </строка>
  </верх>
  </строка>
  </строка>
  </строка>
  </корень>
  <оператор>.</оператор>
  </строка>
  </script>

  <script>
      window.onload = function renderTransformedXml() {
      document.getElementById('result').innerHTML = transform('mathml_xml');
    };
  </script>

  <pre id="result" class="result"></pre>
</html>